(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{7264:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/write",function(){return a(6623)}])},3346:function(e,t,a){"use strict";a.d(t,{M:function(){return r}});let r="https://blog.faculdaderealiza.com.br:3030"},7645:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=i.default,o=(null==t?void 0:t.suspense)?{}:{loading(e){let{error:t,isLoading:a,pastDelay:r}=e;return null}};if(e instanceof Promise?o.loader=()=>e:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=r({},o,e)),(o=r({},o,t)).suspense&&(delete o.ssr,delete o.loading),o.loadableGenerated&&delete(o=r({},o,o.loadableGenerated)).loadableGenerated,"boolean"==typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,n(a,o);delete o.ssr}return a(o)},t.noSSR=n;var r=a(6495).Z,o=a(2648).Z,i=(o(a(7294)),o(a(4588)));function n(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,a(2648).Z)(a(7294));let o=r.default.createContext(null);t.LoadableContext=o},4588:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(6495).Z,o=(0,a(1598).Z)(a(7294)),i=a(3644);let n=[],l=[],s=!1;function d(e){let t=e(),a={loading:!0,loaded:null,error:null};return a.promise=t.then(e=>(a.loading=!1,a.loaded=e,e)).catch(e=>{throw a.loading=!1,a.error=e,e}),a}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=r({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let a=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);a.suspense&&(a.lazy=o.default.lazy(a.loader));let n=null;function d(){if(!n){let t=new u(e,a);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if(!s){let c=a.webpack?a.webpack():a.modules;c&&l.push(e=>{for(let t of c)if(-1!==e.indexOf(t))return d()})}function p(){d();let e=o.default.useContext(i.LoadableContext);e&&Array.isArray(a.modules)&&a.modules.forEach(t=>{e(t)})}let m=a.suspense?function(e,t){return p(),o.default.createElement(a.lazy,r({},e,{ref:t}))}:function(e,t){p();let r=o.useSyncExternalStore(n.subscribe,n.getCurrentValue,n.getCurrentValue);return o.default.useImperativeHandle(t,()=>({retry:n.retry}),[]),o.default.useMemo(()=>{var t;return r.loading||r.error?o.default.createElement(a.loading,{isLoading:r.loading,pastDelay:r.pastDelay,timedOut:r.timedOut,error:r.error,retry:n.retry}):r.loaded?o.default.createElement((t=r.loaded)&&t.__esModule?t.default:t,e):null},[e,r])};return m.preload=()=>d(),m.displayName="LoadableComponent",o.default.forwardRef(m)}(d,e)}function p(e,t){let a=[];for(;e.length;){let r=e.pop();a.push(r(t))}return Promise.all(a).then(()=>{if(e.length)return p(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{p(n).then(e,t)}),c.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let a=()=>(s=!0,t());p(l,e).then(a,a)})},window.__NEXT_PRELOADREADY=c.preloadReady,t.default=c},6623:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var r=a(5893),o=a(7294),i=a(8167),n=a(1163),l=a(381),s=a.n(l),d=a(1243),u=a(9520),c=a(6720),p=a(7357),m=a(3321),f=a(4285),h=a(5861),g=a(5152),b=a.n(g),y=a(2286),v=a(138),_=a(3366),x=a(7462),C=a(6010),Z=a(4780),w=a(1796),O=a(948),j=a(1657),k=a(9773),M=a(7739),$=a(8974),P=a(1705),T=a(5097),E=a(1588);let S=(0,E.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var D=a(6336),I=a(4867);function F(e){return(0,I.Z)("MuiMenuItem",e)}let V=(0,E.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),N=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],R=(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]},L=e=>{let{disabled:t,dense:a,divider:r,disableGutters:o,selected:i,classes:n}=e,l=(0,Z.Z)({root:["root",a&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},F,n);return(0,x.Z)({},n,l)},q=(0,O.ZP)(M.Z,{shouldForwardProp:e=>(0,O.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:R})(({theme:e,ownerState:t})=>(0,x.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${V.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${V.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${V.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${V.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${V.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${T.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${T.Z.inset}`]:{marginLeft:52},[`& .${D.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${D.Z.inset}`]:{paddingLeft:36},[`& .${S.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,x.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${S.root} svg`]:{fontSize:"1.25rem"}}))),z=o.forwardRef(function(e,t){let a;let i=(0,j.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:l="li",dense:s=!1,divider:d=!1,disableGutters:u=!1,focusVisibleClassName:c,role:p="menuitem",tabIndex:m,className:f}=i,h=(0,_.Z)(i,N),g=o.useContext(k.Z),b=o.useMemo(()=>({dense:s||g.dense||!1,disableGutters:u}),[g.dense,s,u]),y=o.useRef(null);(0,$.Z)(()=>{n&&y.current&&y.current.focus()},[n]);let v=(0,x.Z)({},i,{dense:b.dense,divider:d,disableGutters:u}),Z=L(i),w=(0,P.Z)(y,t);return i.disabled||(a=void 0!==m?m:-1),(0,r.jsx)(k.Z.Provider,{value:b,children:(0,r.jsx)(q,(0,x.Z)({ref:w,role:p,tabIndex:a,component:l,focusVisibleClassName:(0,C.Z)(Z.focusVisible,c),className:(0,C.Z)(Z.root,f)},h,{ownerState:v,classes:Z}))})});var A=a(3841);a(91);var B=a(3346);let G=b()(()=>Promise.all([a.e(937),a.e(167)]).then(a.t.bind(a,1167,23)),{loadableGenerated:{webpack:()=>[1167]},ssr:!1}),W=()=>{let e=(0,n.useRouter)(),{id:t}=e.query,{currentUser:a}=(0,o.useContext)(d.V),l=null==a?void 0:a.id.toString(),[g,b]=(0,o.useState)(""),[_,x]=(0,o.useState)(""),[C,Z]=(0,o.useState)(""),[w,O]=(0,o.useState)(""),[j,k]=(0,o.useState)(l),[M,$]=(0,o.useState)(""),P=async()=>{try{let e=new FormData;e.append("image",w);let{token:t}=(0,y.parseCookies)();i.Z.defaults.headers.common.Authorization="Bearer ".concat(t);let a=await i.Z.post("".concat(B.M,"/api/uploads"),e);return a.data.url}catch(r){console.log(r)}},T=async a=>{a.preventDefault();let r=await P();try{k(l);let{token:o}=(0,y.parseCookies)();i.Z.defaults.headers.common.Authorization="Bearer ".concat(o),t?await i.Z.put("".concat(B.M,"/api/updatepost/").concat(t),{title:_,description:g,category:C,user_id:j,image:r,resumo:M}):await i.Z.post("".concat(B.M,"/api/post"),{title:_,description:g,category:C,user_id:j,image:r,date:s()(Date.now()).format("DD/MM/YYYY"),resumo:M}),alert("Post criado com sucesso!"),e.push("/")}catch(n){console.log(n),alert("Erro ao criar post!")}};return(0,r.jsxs)(u.Z,{component:"main",maxWidth:"lg",sx:{paddingTop:10},children:[(0,r.jsx)(c.ZP,{}),(0,r.jsxs)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(h.Z,{component:"h1",variant:"h5",children:t?"Editar Post":"Criar Post"}),(0,r.jsxs)(p.Z,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,r.jsx)(f.Z,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"T\xedtulo",name:"title",autoComplete:"title",autoFocus:!0,value:_,onChange:e=>x(e.target.value)}),(0,r.jsx)(f.Z,{margin:"normal",required:!0,fullWidth:!0,id:"resumo",label:"Resumo",name:"resumo",autoComplete:"resumo",autoFocus:!0,value:M,onChange:e=>$(e.target.value)}),(0,r.jsx)(A.Z,{id:"category-label",children:"Categoria"}),(0,r.jsxs)(v.Z,{labelId:"category",id:"category",value:C,label:"Categoria",style:{width:"100%"},onChange:e=>Z(e.target.value),children:[(0,r.jsx)(z,{value:"noticias",children:"Not\xedcias"}),(0,r.jsx)(z,{value:"artigos",children:"Artigos"}),(0,r.jsx)(z,{value:"concursos",children:"Concursos"})]}),(0,r.jsx)(f.Z,{margin:"normal",required:!0,fullWidth:!0,id:"image",label:"Imagem",name:"image",autoComplete:"image",autoFocus:!0,type:"file",onChange:e=>O(e.target.files[0])}),(0,r.jsx)(p.Z,{maxWidth:"lg",height:"700",children:(0,r.jsx)(G,{value:g,onChange:b})}),(0,r.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:T,children:t?"Editar":"Criar"})]})]})]})};var Y=W},91:function(){},5152:function(e,t,a){e.exports=a(7645)}},function(e){e.O(0,[885,882,183,774,888,179],function(){return e(e.s=7264)}),_N_E=e.O()}]);